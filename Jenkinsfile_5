pipeline {
  agent any

  stages {
    stage ("Test") {
      steps {
        echo " echo keyword is used to print message"
        dir ("Sameple") {
          echo "It will print current directory"
          echo pwd()
        }
        dir(pwd(tmp: true)){
          echo "Inside the job tmp directory."
          echo pwd()
        }
// testing isUnix()
        echo isUnix() ? "running on macos" : "running on windows"    
        
// testing fileExists,readFile and writeFile

        script {
          if (fileExists("sample")){
            echo "file found"
            echo readFile("sample")
            // echo readFile(file: "sample", encoding: "Base64")
          }
          else {
            echo "file not found"
            writeFile(file: "sample", text: "Hello Jenkins!")
            // writeFile(file: "sample", text: "base64 encoded binary data", encoding: "Base64")
          }
        }
      }
    }
  }
}
